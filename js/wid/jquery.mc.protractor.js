var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,c,a){b!=Array.prototype&&b!=Object.prototype&&(b[c]=a.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(b,c,a,d){if(c){a=$jscomp.global;b=b.split(".");for(d=0;d<b.length-1;d++){var e=b[d];e in a||(a[e]={});a=a[e]}b=b[b.length-1];d=a[b];c=c(d);c!=d&&null!=c&&$jscomp.defineProperty(a,b,{configurable:!0,writable:!0,value:c})}};$jscomp.polyfill("Array.prototype.fill",function(b){return b?b:function(b,a,d){var c=this.length||0;0>a&&(a=Math.max(0,c+a));if(null==d||d>c)d=c;d=Number(d);0>d&&(d=Math.max(0,c+d));for(a=Number(a||0);a<d;a++)this[a]=b;return this}},"es6","es3");
$.widget("mc.protractor",$.mc.master,{_touch:2,options:{draggable:!0,clockwise:!0,snap:0,x:null,y:null,ang:0,r:null,circs:[1,.1,.8,.78,.82,.9,.93,.95],_color_edge:"rgba(0,0,255,0.5)",_color_grads:"rgb(0,0,0)",_color_pBack:"rgba(0, 0, 255, 0.05)",_color_text:"rgb(0,0,0)",lineWidth:.005,mark:{lw:.01,lwH:.1,fill:"rgba(255,0,0,0.1)"},markerR:Modernizr.touchevents?1.45:1.2},_start:function(){var b=this._ob,c=this.options,a=this,d=c.markerR*c.circs[1]*3;null===c.x&&(c.x=c.cols/2);null===c.y&&(c.y=c.rows/
2);null===c.r&&(c.r=c.rows/2);b.ptSet=new PtSet(b.mp,b.$canv,b.sqr,{w:2*d,h:2*d,r:d},[0,0,0,0,0,0]);bb.addRemElems(b.mpArr,"<div class='mc-mark mc-hover'>",3,b.mp);this._mkDraggable($([b.mpArr[0],b.mpArr[1]]));$(b.mpArr[2]).css("cursor","pointer").click(function(){c.clockwise=!c.clockwise;a._paint()});this._addGrads()},_addGrads:function(){for(var b=this._ob,c=this.options,a=Math.PI/180,d=0;10>d;d++){var e=Math.cos(Math.PI/2+d*a),f=Math.sin(Math.PI/2+d*a);0===d&&(b.ptSet.addPt({x:c.circs[1]*e*c.r,
y:c.circs[1]*-f*c.r}),b.ptSet.addPt({x:c.circs[2]*e*c.r,y:c.circs[2]*-f*c.r}));var g=0===d?c.circs[5]:5===d?c.circs[6]:c.circs[7];b.ptSet.addPt({x:g*e*c.r,y:g*-f*c.r});b.ptSet.addPt({x:c.circs[0]*e*c.r,y:c.circs[0]*-f*c.r})}},_setMarks:function(b,c){b.ptSet.setPos(0,c.x,c.y);bb.polarPt(b.ptSet.getPt(0),.6*c.r,c.ang,b.ptSet.getPt(1));bb.polarPt(b.ptSet.getPt(0),.3*c.r,c.ang,b.ptSet.getPt(2))},_update:function(b,c){var a=this._ob,d=this.options,e=0;switch(b){case "r":a.ptSet.arr.splice(3);a.ptSet.defaults.r=
d.markerR*d.circs[1]*c;a.ptSet.refresh(a.sqr);this._addGrads();break;case "resize":a.ptSet.refresh(a.sqr);for(b=0;5>b;b++)a[["r","inC","outC","midC","tC"][b]]=d.circs[b]*d.r*a.sqr;a.grads=[];for(b=3;b<a.ptSet.arr.length;b++)a.grads.push(a.ptSet.getCPt(b).cPt);e=1;break;case "x":case "y":case "ang":case "clockwise":case "dragstop":case "aniEnd":e=1;break;case "drag":0===a.dragInd?(bb.constrainPt(a.dragPt,{x:0,y:0},{x:d.cols,y:d.rows},.5),d.snap&&bb.snapPt(a.dragPt,d.snap,d.snap),d.x=a.dragPt.x,d.y=
a.dragPt.y):d.ang=bb.getAngProps(a.ptSet.getPt(0),a.ptSet.getPt(1)).ang;break;case "hover":if(null!==a.dragInd)return}this._setMarks(a,d);bb.setCtx(a.ctx,{lineWidth:d.lineWidth*a.r,font:a.r/13+"px sans-serif",strokeStyle:d._color_edge,fillStyle:d._color_pBack,textBaseline:"bottom",textAlign:"center"});e&&$(a.mpArr).each(function(b){$(this).css(a.ptSet.getCss(b))});this._paint()},_paint:function(){for(var b=this._ob,c=this.options,a=b.ctx,d=[],e=0;3>e;e++)d.push(b.ptSet.getCPt(e).cPt);a.save();this.clear();
a.save();a.translate(d[0].x,d[0].y);a.rotate(-c.ang);a.beginPath();a.arc(0,0,b.r,0,Math.PI,!0);a.lineTo(-b.r,b.inC);a.lineTo(b.r,b.inC);a.closePath();a.fill();a.stroke();a.strokeStyle=c._color_grads;bb.lines(a,[{x:-b.inC,y:0},{x:b.inC,y:0},{x:0,y:0},{x:0,y:-b.inC}],!1,!1);a.beginPath();a.arc(0,0,b.midC,0,Math.PI,!0);a.moveTo(b.inC,0);a.arc(0,0,b.inC,0,Math.PI,!0);a.stroke();a.fillStyle=c._color_text;a.rotate(-Math.PI/2);for(e=0;180>=e;e+=10){0!==e?bb.lines(a,b.grads,!1,!1):bb.lines(a,[b.grads[0],
b.grads[1],b.grads[2],b.grads[3]],!1,!1);var f=e;c.clockwise&&(f=180-e);a.fillText(f,0,-b.tC);a.rotate(Math.PI/18)}a.restore();bb.markers(a,c.mark,[d[1],d[2]],null);a.restore()}});
